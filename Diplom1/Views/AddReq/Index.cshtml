@*@model CreateRequestViewModel

    @Html.DropDownList("userid", ViewBag.Users as SelectList, new { @onchange = "selectChanged(this.value)" })
    <p>
    </p>
    <form asp-controller="AddReq" asp-action="Index" method="post">
        <input type="submit" class="create-request-button" name="openmodal" value="selected" />
    </form>

    <script type="text/javascript">
        function selectChanged(value) {
            fetch(`GetSelectedValue?value=${value}`)
                .then(response => response.text())
        }
    </script>

    //.then(data => alert(data))
                //.catch(error => alert(error))*@

@model CreateRequestViewModel

    <div class="container">
        <div class="col-sm-4"></div>
        <div class="col-sm-4">
            @using (Html.BeginForm("Index", "AddReq", FormMethod.Post))
            {
                @Html.Label("Грузы:")
                <br />
                @Html.ListBoxFor(m => m.CargoIDs, Model.AllCargoes, new { @class = "listbox", @onchange = "selectChanged(this.value)" })

                <br />
                <br />
                @Html.ListBoxFor(m => m.ServiceIDs, Model.AllServices, new { @class = "listbox" })
                <br />
                @Html.Label("Количество:")
                <input class="form-control" />
                <p>Стоимость 1-й единицы: 755 руб / 10 $</p>
                @Html.Label("Итого")
                <p>6040 руб / 80 $</p>
                <input type="submit" value="Submit" />
            }
        </div>
    </div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <link href="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" rel="stylesheet" type="text/css" />
    <script src="http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js" type="text/javascript"></script>
    <script type="text/javascript">
            $(function () {
                $('.listbox').multiselect({
                    includeSelectAllOption: true
                });
            });
    </script>

    <script type="text/javascript">
        function selectChanged(value) {
            fetch(`LoadServices?value=${value}`)
                .then(response => response.text())
        }
    </script>


















@*@page
@addTagHelper*, Microsoft.AspNetCore.Mvc.TagHelpers
@using Diplom1.Views.AddReq
@model IndexModel

<div>
    <form method="post">
        <div class="container">
            Cargoes:
            <select id="lstCargoes" name="lstCargoes" asp-items="@Model.Cargoes" multiple class="form-control"></select>
            <input type="submit" value="Submit" asp-page-handler="Submit" class="btn btn-primary" />

        </div>
    </form>
</div>

@if (@Model.Message != null)
{
<script type="text/javascript">
            window.onload = function () {
                alert("@Model.Message");
            };
</script>
}

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/css/bootstrap.min.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/css/bootstrap-multiselect.css" />
<script type="text/javascript" src="https://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js"></script>
<script type="text/javascript">
    $(function () {
        $('#lstCargoes').multiselect({
            includeSelectAllOption: true
        });
    });
</script>*@